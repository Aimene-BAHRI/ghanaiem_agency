
{% load static %}
<style>
	.middle {
		transition: .5s ease;
		opacity: 0;
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		-ms-transform: translate(-50%, -50%);
		text-align: center;
		background-color: transparent;
	}
	
	.text {
		background-color: transparent;
		color: white;
		font-size: 20px;
		padding: 10px 10px;
		width: 100%;
		display: flex;
		justify-content: center;
		align-items: center;
	}

	.image {
		opacity: 1;
		display: block;
		width: 100%;
		transition: .5s ease;
		backface-visibility: hidden;
		max-width: 100%;
		height: 300px;
		border-radius: 20px;
	}

	.carousel-item:hover .image {
		opacity: 0.8;
	}

	.carousel-item:hover .middle {
		opacity: 1;
		background-color: #c0c27c8f;
		height: 100%;
		width: 86%;
		display: flex;
		border-radius: 18px;
	}

	.carousel-control-next {
		right: -137px;
		color: black;
		font-size: 40px;
	}

	.carousel-control-prev {
		left: -137px;
		color: black;
		font-size: 40px;
	}
</style>

<div class="container-fluid">
	<div id="carousel-example" class="carousel slide" data-ride="carousel">
		<div class="carousel-inner1 carousel-inner row w-100 mx-auto" role="listbox">
			{% if categories %}
				{% for rubrique in categories %}
					<div class="caroussel1 carousel-item col-12 col-sm-6 col-md-4 col-lg-3 {% if forloop.first %}active{% endif %}">
						{% if rubrique.photo_representatif %}
							<img src="{{ rubrique.photo_representatif.url }}" class="image img-fluid mx-auto d-block" alt="{{ rubrique.photo_representatif.url }}">
						{% endif %}
						<div class="middle">
							<div class="text">
								<a style="color: white;" href="{% url 'categories' rubrique.slug %}">{{rubrique.rubrique_name}}</a>
								</div>
						</div>
					</div>
				{% endfor %}
			{% else %}
				<div class="caroussel1 carousel-item col-12 col-sm-6 col-md-4 col-lg-3 active">
					<img src="{% static 'assets/img/backgrounds/1.jpg' %}" class="image img-fluid mx-auto d-block" alt="img1">
				</div>
				<div class="caroussel1 carousel-item col-12 col-sm-6 col-md-4 col-lg-3">
					<img src="{% static 'assets/img/backgrounds/2.jpg' %}" class="image img-fluid mx-auto d-block" alt="img2">
				</div>
				<div class="caroussel1 carousel-item col-12 col-sm-6 col-md-4 col-lg-3">
					<img src="{% static 'assets/img/backgrounds/3.jpg' %}" class="image img-fluid mx-auto d-block" alt="img3">
				</div>
				<div class="caroussel1 carousel-item col-12 col-sm-6 col-md-4 col-lg-3">
					<img src="{% static 'assets/img/backgrounds/4.jpg' %}" class="image img-fluid mx-auto d-block" alt="img4">
				</div>
				<div class="caroussel1 carousel-item col-12 col-sm-6 col-md-4 col-lg-3">
					<img src="{% static 'assets/img/backgrounds/5.jpg' %}" class="image img-fluid mx-auto d-block" alt="img5">
				</div>
				<div class="caroussel1 carousel-item col-12 col-sm-6 col-md-4 col-lg-3">
					<img src="{% static 'assets/img/backgrounds/6.jpg' %}" class="image img-fluid mx-auto d-block" alt="img6">
				</div>
				<div class="caroussel1 carousel-item col-12 col-sm-6 col-md-4 col-lg-3">
					<img src="{% static 'assets/img/backgrounds/7.jpg' %}" class="image img-fluid mx-auto d-block" alt="img7">
				</div>
				<div class="caroussel1 carousel-item col-12 col-sm-6 col-md-4 col-lg-3">
					<img src="{% static 'assets/img/backgrounds/8.jpg' %}" class="image img-fluid mx-auto d-block" alt="img8">
				</div>
			{% endif %}
		</div>
		<a class="carousel-control-prev" href="#carousel-example" role="button" data-slide="prev">
			<span class="" aria-hidden="true"><i class="fas fa-arrow-left"></i></span>
			<span class="sr-only">Previous</span>
		</a>
		<a class="carousel-control-next" href="#carousel-example" role="button" data-slide="next">
			<span class="" aria-hidden="true"><i class="fas fa-arrow-right"></i></span>
			<span class="sr-only">Next</span>
		</a>
	</div>
</div>